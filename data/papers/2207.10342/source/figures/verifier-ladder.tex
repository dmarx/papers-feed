


\begin{figure}[h!]
\begin{tikzpicture}
  % Define nodes

  \node[latent]         (T1) {$T_1$};
  \node[latent, right=0.6cm of T1]         (T2) {$T_2$};
  \node[latent, right=0.6cm of T2]         (T3) {$T_3$};
  
%   \node[latent, double, above=0.5cm of Q, xshift=0.6cm]       (stream1) {$\mathcal B_1$};
  \node[latent, double, above=0.5cm of T1, xshift=0.6cm]       (stream2) {$\mathcal B_2$};
  \node[latent, double, left=0.6cm of stream2]       (stream1) {$\mathcal B_1$};
  \node[latent, double, above=0.5cm of T2, xshift=0.6cm]       (stream3) {$\mathcal B_3$};
  \node[latent, double, above=0.5cm of T3, xshift=0.6cm]       (stream4) {$\mathcal B_4$};
%   \node[above=0.5cm of A, xshift=0.6cm]       (stream5) {};

  \node[obs, left=0.6cm of stream1]       (Q) {$Q$};

  
  \node[obs, above=0.5cm of stream2]         (V1) {$V_1$};
  \node[obs, above=0.5cm of stream3]         (V2) {$V_2$};
  \node[obs, above=0.5cm of stream4]         (V3) {$V_3$};

  \node[latent, right=0.6cm of stream4]         (A) {$A$};


  % Connect the nodes
  \edge {Q} {stream1} ; %
  \edge {T1} {stream2} ; %
  \edge {T2} {stream3} ; %
  \edge {T3} {stream4} ; %
  \edge {stream1} {T1} ; %
  \edge {stream2} {T2} ; %
  \edge {stream3} {T3} ; %
  \edge {stream4} {A} ; %
  \edge {stream1} {stream2};
  \edge {stream2} {stream3};
  \edge {stream3} {stream4};
%   \draw [double] (stream1) to (stream2);
%   \draw [double] (stream2) to (stream3);
%   \draw [double] (stream3) to (stream4);
%   \draw [double, ->] (stream4) to (stream5);

%   \edge {stream1} {stream2} ; %
%   \edge {stream2} {stream3} ; %
%   \edge {stream3} {stream4} ; %
%   \edge {stream4} {stream5} ; %
%   \edge {Q} {T1} ; %
%   \edge {T1} {T2} ; %
%   \edge {T2} {T3} ; %
%   \edge {T3} {A} ; %
  \edge {stream2} {V1} ; %
  \edge {stream3} {V2} ; %
  \edge {stream4} {V3} ; %
%   \draw [->] (Q) to [out=-40,in=-140] (A);
%   \path[every node/.style={font=\sffamily\small}]
%     (Q) edge[bend right] node [left] {} (A);
%   \edge[bend right=30] {Q} {A} ; %
\end{tikzpicture}
\caption{Verifier model.
The deterministic $B_t$ nodes are buffer nodes
that accumulate all the past strings.
All other nodes are stochastic.
}
\label{fig:verifier}
\end{figure}