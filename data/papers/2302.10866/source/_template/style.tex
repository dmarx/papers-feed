\usepackage{lipsum}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}    
%\usepackage[sf]{noto}
\usepackage[bookmarks=true, colorlinks=true,linkcolor=blue!70,citecolor=green!80!black]{hyperref}
\usepackage[round]{natbib}
\usepackage{wrapfig}
\usepackage{booktabs}  
\usepackage{longtable}
\usepackage{ducksay}
\usepackage{multicol}
\usepackage{etaremune}
\usepackage{afterpage}
\usepackage{capt-of}
\usepackage[table, x11names]{xcolor}
\usepackage{decorule}
\usepackage{scalerel,xparse}
\usepackage{enumitem} % customization of `list` environments
\usepackage[top=25mm, bottom=25mm, left=25mm, right=25mm,
            foot=5mm, marginparsep=0mm]{geometry}

%%%% Graphics %%%%
%%%%%%%%%%%%%%%%%%

% count figures by section
\usepackage{chngcntr}
\counterwithin{figure}{section} 
\counterwithin{table}{section}

% colors and graphics
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{hf-tikz}
\usepackage{pgfplots} 
\pgfplotsset{compat=newest} 
\pgfplotsset{
        table/search path={figures/drawings},
    }
\usetikzlibrary{fadings}
\usetikzlibrary{shapes, arrows, fit, backgrounds, arrows.meta}

\usetikzlibrary{matrix}
\usetikzlibrary{shadows.blur}
\usetikzlibrary{patterns, tikzmark}
\usetikzlibrary{decorations.pathreplacing, calc, decorations.markings,}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric}
\pgfdeclareplotmark{mystar}{
    \node[star,star point ratio=2.25,minimum size=5pt,
          inner sep=0pt,draw=black,solid,fill=green] {};
}

\usepgfplotslibrary{groupplots}
\usepgfplotslibrary{patchplots}

\definecolor{bg}{gray}{0.97}
\definecolor{olive}{rgb}{0.6, 0.6, 0.2}
\definecolor{sand}{rgb}{0.8666666666666667, 0.8, 0.4666666666666667}
\definecolor{wine}{rgb}{0.5333333333333333, 0.13333333333333333, 0.3333333333333333}
\definecolor{deblue}{RGB}{11,132,147}
\definecolor{ocra}{RGB}{204, 119, 34}

\def\ocra{\color{ocra}}
\def\orange{\color{orange!70!white}}
\def\red{\color{red!70!white}}
\def\lblue{\color{blue!70!white}}
\def\blue{\color{blue!70!white}}

\newcommand{\fcircle}[2][red,fill=red]{\tikz[baseline=-0.5ex]\draw[#1,radius=#2] (0,0.03) circle ;}

%%%% Fonts %%%%%%%
% Japanese Characters
%\usepackage{CJKutf8}
% Lettrine
\usepackage{lettrine}
\usepackage{Typocaps}
\renewcommand{\LettrineFontHook}{\color{VioletRed4}\Typocapsfamily{}}
\LettrineTextFont{\itshape}
\setcounter{DefaultLines}{3}%

%%%% Theorems %%%%
%%%%%%%%%%%%%%%%%%
\usepackage{amsthm}
\newtheorem{corollary}{Corollary}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{theorem}{Theorem}[section]
%%%% Tables %%%%
%%%%%%%%%%%%%%%%
\newcommand{\specialcell}[2][c]{%
    \begin{tabular}[#1]{@{}l@{}}#2\end{tabular}}

\usepackage{amssymb}
\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%


%%%% Table of Contents %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{minitoc}
\renewcommand \thepart{}
\renewcommand \partname{}

%%%% Custom cross-ref %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\chapref}[1]{\hyperref[#1]{Chapter \ref{#1}}}
\newcommand{\secref}[1]{\hyperref[#1]{Section \ref{#1}}}


%%%% Margin notes %%%%
%%%%%%%%%%%%%%%%%%%%%
\usepackage{marginnote}
\renewcommand\raggedrightmarginnote{\sloppy}
\renewcommand\raggedleftmarginnote{\sloppy}

%%%% Boxes %%%%
%%%%%%%%%%%%%%%
\usepackage[many]{tcolorbox}
\tcbuselibrary{breakable,xparse,skins}

% add math symbols as unicode for the minted box
\usepackage{newunicodechar}
\newunicodechar{λ}{{$\mathtt\lambda$}}
\newunicodechar{μ}{{$\mathtt\mu$}}

% minted (code) boxes
% \DeclareTCBListing{mintedbox}{O{}m!O{}}{%
%     breakable=true,
%     listing engine=minted,
%     listing only,
%     minted language=#2,
%     minted style=default,
%     minted options={%
%         linenos,
%         gobble=0,
%         breaklines=true,
%         breakafter=,,
%         fontsize=\footnotesize,
%         numbersep=8pt,
%         #1},
%     boxsep=0pt,
%     left skip=0pt,
%     right skip=0pt,
%     left=20pt,
%     right=0pt,
%     top=3pt,
%     bottom=3pt,
%     arc=5pt,
%     leftrule=0pt,
%     rightrule=0pt,
%     bottomrule=2pt,
%     toprule=2pt,
%     colback=bg,
%     colframe=brown!70!white,
%     enhanced,
%     overlay={%
%     \begin{tcbclipinterior}
%     \fill[brown!20!white] (frame.south west) rectangle ([xshift=16pt]frame.north west);
%     \end{tcbclipinterior}},
%     #3}

% emphasized text
\usepackage{xparse}
\DeclareTColorBox{emphbox}{O{black}O{0cm}}{
    enhanced jigsaw,
    breakable,
    outer arc=0pt,
    arc=0pt,
    colback=white,
    rightrule=0pt,
    toprule=0pt,
    top=0pt,
    right=0pt,
    bottom=0pt,
    bottomrule=0pt,
    colframe=#1,
    enlarge left by=#2,
    width=\linewidth-#2,
}

\DeclareTColorBox{emphbox}{O{black}O{0cm}}{
    empty,
    breakable=true,
    outer arc=0pt,
    arc=0pt,
    rightrule=0pt,
    leftrule=2pt,
    borderline west={2pt}{0pt}{#1},
    toprule=0pt,
    top=0pt,
    right=-3pt,
    bottom=0pt,
    bottomrule=0pt,
    % colframe=black,
    colframe=#1,
    enlarge left by=#2,
    width=\linewidth-#2,
}

% \renewcommand{\theFancyVerbLine}{
% \sffamily\textcolor[rgb]{0.5,0.5,0.5}{\scriptsize\arabic{FancyVerbLine}}}
% \lstset{
%     language=[python],
% }
% \newenvironment{codeblock}[4][]
%  {\VerbatimEnvironment
%   %\begin{listing}
%   %\caption{#3}\label{#4}
%   \begin{minted}[
%    mathescape,
%    numbersep=5pt,
%    gobble=2,
%    bgcolor=gray!20,
%    fontsize=\scriptsize,
%    framesep=2mm,
%     #1]{#2}}
%  {\end{minted}%\end{listing}
%  }
 
% \newenvironment{codeblock}[1]
%     {\begin{minted}[mathescape,
%                numbersep=5pt,
%                gobble=2,
%                bgcolor=gray!30,
%                fontsize=\footnotesize,
%                framesep=2mm]
%     #1\\[1ex]
%     \begin{tabular}{|p{0.9\textwidth}|}
%     \hline\\
%     }
%     { 
%     \\\\\hline
%     \end{tabular} 
%     \end{minted}
%     }

% Algorithms
\RequirePackage{algorithm}
\RequirePackage{algorithmic}